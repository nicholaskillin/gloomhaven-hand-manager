{"version":3,"sources":["serviceWorker.js","CharacterSelection.js","HandSelection.js","PerkSelection.js","CardContainer.js","components/playArea/ModifierDeck.js","components/playArea/ChosenCards.js","components/playArea/HandCards.js","components/playArea/PlayerStats.js","PlayArea.js","feedbackModal.js","App.js","webpack:///./src/index.js?b635"],"names":["Boolean","window","location","hostname","match","CharacterContainer","character","characterName","handleStaffOfCommand","selectCharacter","id","name","onClick","className","src","initials","alt","noSpoilerName","type","onChange","e","target","checked","align","CharacterSelection","availableCharacters","changeGame","game","handleSetCharacter","handleSetLevel","level","useState","setCharacterName","bladeSwarmUnlocked","setBladeSwarmUnlocked","cookies","Cookies","push","require","firstRow","slice","secondRow","thirdRow","fourthRow","fifthRow","sixthRow","useEffect","cookieInfo","getAll","parseInt","action","alert","style","color","event","handleGameChange","value","map","key","disabled","title","CardTableRowLevelOne","cardIsInHand","handleCardClick","cardSet","handleEnhancementChange","card","enhancements","enhancement","EnhancementIcon","index","EnhancementDropdown","CardTableRowTwoLevels","firstCardSet","firstLevel","secondCardSet","secondLevel","length","enhancementOption","SelectedHand","hand","toLowerCase","top","left","HandSelection","addCardToHand","campaign","handleUpdateCharacter","handleSetStage","removeCardFromHand","setCampaign","cards","startingCards","levelTwoCards","filter","levelThreeCards","levelFourCards","levelFiveCards","levelSixCards","levelSevenCards","levelEightCards","levelNineCards","cardToCheck","some","cardTitle","updatedData","find","selectedCard","_","includes","previousSibling","firstChild","cardFromCharacter","handSize","fontSize","for","campaignValue","set","path","maxAge","PerkSelection","modifyModifierDeck","characterPerks","resetModifierDeck","isChecked","perks","setPerk","changesToModifierDeck","setChangesToModifierDeck","cookie","handlePerkChange","perkId","checkboxId","prevPerks","newPerks","changes","perk","newChangesToModifierDeck","forEach","change","remove","modifierChanges","perkData","checkboxes","checkbox","label","cardsToAdd","formattedCardsToAdd","i","number","image","cardsToRemove","formattedCardsToRemove","handleConfirmPerks","CardContainer","cardClass","containerClass","cardSelected","mustLose","tracker","trackerButtons","setTrackerButtons","active","newTrackerButtons","handleClickTracker","ModifierModal","handleClose","playedModifierCards","show","display","textAlign","ModifierDeck","modifierDeck","playedModifyCards","setPlayedModifyCards","localModifierDeck","setLocalModifierDeck","mustShuffle","setMustShuffle","extraBlessCount","setExtraBlessCount","extraCurseCount","setExtraCurseCount","extraMinusOneCount","setExtraMinusOneCount","displayModal","setDisplayModal","minus1Card","curseCard","blessingCard","newLocalModifierDeck","playedCard","shift","handleFlipModifier","addPlayedCards","shuffledModifierDeck","playedMinusBlessCurseMinusOne","j","Math","floor","random","temp","handleShuffleModifierDeck","handleAddBless","handleAddCurse","handleAddMinusOneCard","cardIndex","findIndex","splice","handleRemoveMinusOneCard","handleResetModifierDeck","newModDeck","handleRemoveAllCurseCards","ChosenCards","chosenCards","moveCardToActive","moveCardToDiscard","moveCardToLost","returnChosenCardsToHand","staffOfCommand","setSelectedCard","cardClicked","cardToSelect","cardIsSelected","isEmpty","canMoveToActive","colSpan","border","Object","keys","HandCards","moveHandCardToLost","moveCardsToChosen","moveThirdCardToChosen","hasCardsInPlay","staffOfCommandPlayed","rowOne","rowTwo","rowThree","selectedCards","setSelectedCards","handleOnClick","characterCard","newSelection","PlayerStats","poisoned","setPoisoned","wounded","setWounded","immobilized","setImmobilized","disarmed","setDisarmed","regenerate","setRegenerate","stunned","setStunned","muddled","setMuddled","invisible","setInvisible","strengthened","setStrengthened","bearPoisoned","setBearPoisoned","bearWounded","setBearWounded","bearImmobilized","setBearImmobilized","bearDisarmed","setBearDisarmed","bearRegenerate","setBearRegenerate","bearStunned","setBearStunned","bearMuddled","setBearMuddled","bearInvisible","setBearInvisible","bearStrengthened","setBearStrengthened","health","setHealth","bearHealth","setBearHealth","experience","setExperience","loot","setLoot","maxHealth","maxBearHealth","DiscardedCards","discardedCards","handleMoveCardsBackToHand","moveDiscardedCardsToLost","removeCardFromDiscard","resting","setResting","canRerollLost","setCanRerollLost","longResting","setLongResting","cardToLose","setCardToLose","cardBoarder","handleShortRest","cardsToChooseFrom","newCardToLose","handleRerollLostCard","ActiveCards","activeCards","moveActiveCardToDiscard","moveActiveCardToLost","tagName","LostCards","lostCards","moveLostCardToHand","SettingsMenu","setPlayerStats","StackView","Text","CheckboxCard","PlayArea","setHand","setHasCardsInPlay","setChosenCards","setDiscardedCards","setActiveCards","setLostCards","showPlayerStats","setShowPlayerStats","anyChosenCardsLeft","newArray","Image","showStats","cardActivated","indexOf","newChosenCards","cardDiscarded","cardLost","newHand","chosenCard","newActiveCards","cardsRecovered","resetHand","newDiscardedCards","newLostCards","newHandCards","handCard","FeedbackModal","hideModal","setTitle","setType","body","setBody","submitted","setSubmitted","submissionError","setSubmissionError","showErrors","setShowErrors","octokit","Octokit","auth","process","REACT_APP_GITHUB_KEY","ThemeProvider","spacing","Field","inline","helpContent","Input","Select","emptyValue","tooltip","Option","TextArea","height","placeholder","Button","issues","create","owner","repo","labels","catch","err","href","rel","Feedback","App","stage","setStage","setGame","setCharacter","setLevel","setModifierDeck","setStaffOfCommand","allCharacterData","gameName","getGameCharacters","characterSelected","characterData","x","campaignVersions","get","selected","newModifierDeck","concat","modifierWithCardsRemoved","array","attr","findWithAttr","cardToAdd","cardReceived","cardToRemove","previousHand","reject","Bugsnag","start","apiKey","enabledReleaseStages","plugins","BugsnagPluginReact","onError","addMetadata","ErrorBoundary","getPlugin","createErrorBoundary","React","ReactDOM","render","StrictMode","FallbackComponent","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","error","console","message"],"mappings":"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","file":"static/js/main.59c6df8a.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useEffect, useState } from 'react'\n\nimport Cookies from 'universal-cookie'\nimport Konami from 'react-konami-code'\n\nfunction CharacterSelection({\n  availableCharacters,\n  changeGame,\n  game,\n  handleSetCharacter,\n  handleSetLevel,\n  handleStaffOfCommand,\n  level,\n}) {\n  const [characterName, setCharacterName] = useState('')\n  const [bladeSwarmUnlocked, setBladeSwarmUnlocked] = useState(false)\n  const cookies = new Cookies()\n  if (bladeSwarmUnlocked) {\n    availableCharacters.push(require('./envelopeX.json'))\n  }\n  const firstRow = availableCharacters.slice(0, 3)\n  const secondRow = availableCharacters.slice(3, 6)\n  const thirdRow = availableCharacters.slice(6, 9)\n  const fourthRow = availableCharacters.slice(9, 12)\n  const fifthRow = availableCharacters.slice(12, 15)\n  const sixthRow = availableCharacters.slice(15, 18)\n\n  useEffect(() => {\n    let cookieInfo = cookies.getAll()\n    if (cookieInfo.character) {\n      selectCharacter(cookieInfo.character)\n    }\n    if (cookieInfo.level) {\n      handleSetLevel(parseInt(cookieInfo.level, 10))\n    }\n  }, [])\n\n  function selectCharacter(characterName) {\n    setCharacterName(characterName)\n  }\n\n  function handleUnlockBladeSwarm() {\n    setBladeSwarmUnlocked(true)\n    alert(`You unlocked bladeswarm`)\n  }\n\n  function handleGameChange(game) {\n    setCharacterName('')\n    changeGame(game)\n  }\n\n  return (\n    <>\n      <Konami action={handleUnlockBladeSwarm} />\n      <div id='select-className-section' align='center'>\n        <h2 className='header' align='center' style={{ color: 'white' }}>\n          Select Your Character\n        </h2>\n        <select\n          onChange={(event) => handleGameChange(event.target.value)}\n          id='game-selector'\n          value={game}\n        >\n          <option value='gloomhaven'>Gloomhaven</option>\n          <option value='forgottenCircles'>Forgotten Circles</option>\n          <option value='jotl'>Jaws of the Lion</option>\n        </select>\n        <table>\n          <tbody>\n            <tr>\n              {firstRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {secondRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {thirdRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {fourthRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {fifthRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n            <tr>\n              {sixthRow.map((character) => (\n                <CharacterContainer\n                  character={character}\n                  characterName={characterName}\n                  handleStaffOfCommand={handleStaffOfCommand}\n                  key={character.noSpoilerName}\n                  selectCharacter={selectCharacter}\n                />\n              ))}\n            </tr>\n          </tbody>\n        </table>\n        <div id='level-selection' align='center'>\n          <h2 className='header' align='center' style={{ color: 'white' }}>\n            Select Your Level\n          </h2>\n          <p id='level-counter'>Level: {level}</p>\n          <br />\n          <button\n            id='level-down'\n            className='level-modifier'\n            type='button'\n            onClick={() => handleSetLevel(level - 1)}\n            disabled={level < 2}\n          >\n            -\n          </button>\n          <button\n            id='level-up'\n            className='level-modifier'\n            type='button'\n            onClick={() => handleSetLevel(level + 1)}\n            disabled={level > 8 || characterName === ''}\n          >\n            +\n          </button>\n          <br />\n        </div>\n        <br />\n        <button\n          id='confirm-character-button'\n          className='button'\n          type='button'\n          align='center'\n          title='Must Select A Character'\n          onClick={() => handleSetCharacter(characterName)}\n          disabled={characterName === ''}\n        >\n          Confirm Character\n        </button>\n      </div>\n    </>\n  )\n}\n\nfunction CharacterContainer({\n  character,\n  characterName,\n  handleStaffOfCommand,\n  selectCharacter,\n}) {\n  return (\n    <td\n      id={character.name === 'beastTyrant' ? 'beastTyrantOption' : ''}\n      onClick={() => selectCharacter(character.name)}\n    >\n      <img\n        className={\n          characterName === character.name\n            ? 'character active character-selected'\n            : 'character active'\n        }\n        src={`./images/character-icons/${character.initials}-icon.png`}\n        alt={character.noSpoilerName}\n      />\n      <br />\n      {character.name === 'beastTyrant' && (\n        <div>\n          <div\n            id='beastTyrantStaffLabel'\n            className={\n              characterName === 'beastTyrant' ? 'solo-scenario-label' : 'hiding'\n            }\n          >\n            Completed solo scenario\n          </div>\n          <label className='switch'>\n            <input\n              id='beastTyrantSolo'\n              type='checkbox'\n              onChange={(e) => handleStaffOfCommand(e.target.checked)}\n            />\n            <span\n              id='beastTyrantStaff'\n              className={\n                characterName === 'beastTyrant' ? 'slider' : 'slider hiding'\n              }\n            />\n          </label>\n        </div>\n      )}\n      <p className='character-title' align='center'>\n        {character.noSpoilerName}\n      </p>\n    </td>\n  )\n}\n\nexport default CharacterSelection\n","import React from 'react'\nimport Cookies from 'universal-cookie'\nimport _ from 'lodash'\n\nfunction HandSelection({\n  addCardToHand,\n  campaign,\n  character,\n  game,\n  level,\n  hand,\n  handleUpdateCharacter,\n  handleSetStage,\n  removeCardFromHand,\n  setCampaign,\n}) {\n  // TODO: move cards over to use the CardContainer component\n  const firstRow = character.cards.slice(0, 5)\n  const secondRow = character.cards.slice(5, 10)\n  const thirdRow = character.cards.slice(10, character.startingCards)\n  const levelTwoCards = character.cards.filter((card) => {\n    return card.level === 2\n  })\n  const levelThreeCards = character.cards.filter((card) => {\n    return card.level === 3\n  })\n  const levelFourCards = character.cards.filter((card) => {\n    return card.level === 4\n  })\n  const levelFiveCards = character.cards.filter((card) => {\n    return card.level === 5\n  })\n  const levelSixCards = character.cards.filter((card) => {\n    return card.level === 6\n  })\n  const levelSevenCards = character.cards.filter((card) => {\n    return card.level === 7\n  })\n  const levelEightCards = character.cards.filter((card) => {\n    return card.level === 8\n  })\n  const levelNineCards = character.cards.filter((card) => {\n    return card.level === 9\n  })\n  const cookies = new Cookies()\n\n  function cardIsInHand(cardToCheck) {\n    if (hand.some((card) => card.title === cardToCheck.title)) {\n      return true\n    }\n    return false\n  }\n\n  function handleEnhancementChange(cardTitle, id, e) {\n    let updatedData = { ...character }\n    const card = updatedData.cards.find((card) => card.title === cardTitle)\n    let enhancement = card.enhancements.find(\n      (enhancement) => enhancement.id === id\n    )\n    enhancement.enhancement = e.target.value\n    handleUpdateCharacter(updatedData)\n  }\n\n  function handleCardClick(selectedCard) {\n    if (_.includes(selectedCard.alt, 'halt-back')) return\n\n    while (selectedCard.className === 'enhancement-icon') {\n      selectedCard = selectedCard.previousSibling\n    }\n    if (selectedCard.className === 'chooseCardsTable') {\n      selectedCard = selectedCard.firstChild\n    }\n    let cardFromCharacter = character.cards.find(\n      (card) => card.title === selectedCard.alt\n    )\n    if (cardIsInHand(cardFromCharacter)) {\n      removeCardFromHand(cardFromCharacter)\n    } else {\n      if (hand.length < character.handSize) {\n        addCardToHand(cardFromCharacter)\n      } else {\n        alert(`Your hand is full`)\n      }\n    }\n  }\n\n  function handleConfirmHand() {\n    handleSetStage('playing')\n    cookies.set('hand', hand, {\n      path: '/',\n      maxAge: 31104000,\n    })\n  }\n\n  const handleCampaignChange = (campaignValue) => {\n    setCampaign(campaignValue)\n  }\n\n  return (\n    <div id='initial-table' className='cardSet'>\n      <h2 id='choose-cards-number' className='header'>\n        Choose {character.handSize} Cards\n      </h2>\n      <div align='center' style={{ fontSize: '.7em' }}>\n        {game === 'jotl' && (\n          <>\n            <label for='campaign'>Choose a campaign:</label>\n\n            <select\n              id='campaign'\n              name='campaign'\n              onChange={(e) => handleCampaignChange(parseInt(e.target.value))}\n              value={campaign}\n            >\n              <option value='1'>1</option>\n              <option value='2'>2</option>\n              <option value='3'>3</option>\n              <option value='4'>4+</option>\n            </select>\n          </>\n        )}\n        <p id='card-counter' className='card-counter' align='center'>\n          {hand.length}/{character.handSize}\n        </p>\n      </div>\n      <table className='cardTable' align='center'>\n        <tbody>\n          <CardTableRowLevelOne\n            cardIsInHand={cardIsInHand}\n            handleCardClick={handleCardClick}\n            cardSet={firstRow}\n            character={character}\n            handleEnhancementChange={handleEnhancementChange}\n          />\n          <CardTableRowLevelOne\n            cardIsInHand={cardIsInHand}\n            handleCardClick={handleCardClick}\n            cardSet={secondRow}\n            character={character}\n            handleEnhancementChange={handleEnhancementChange}\n          />\n          {thirdRow.length > 0 && (\n            <CardTableRowLevelOne\n              cardIsInHand={cardIsInHand}\n              handleCardClick={handleCardClick}\n              cardSet={thirdRow}\n              character={character}\n              handleEnhancementChange={handleEnhancementChange}\n            />\n          )}\n\n          {level >= 2 && (\n            <CardTableRowTwoLevels\n              cardIsInHand={cardIsInHand}\n              handleCardClick={handleCardClick}\n              character={character}\n              handleEnhancementChange={handleEnhancementChange}\n              firstCardSet={levelTwoCards}\n              firstLevel={2}\n              level={level}\n              secondCardSet={levelThreeCards}\n              secondLevel={3}\n            />\n          )}\n          {level >= 4 && (\n            <CardTableRowTwoLevels\n              cardIsInHand={cardIsInHand}\n              handleCardClick={handleCardClick}\n              character={character}\n              handleEnhancementChange={handleEnhancementChange}\n              firstCardSet={levelFourCards}\n              firstLevel={4}\n              level={level}\n              secondCardSet={levelFiveCards}\n              secondLevel={5}\n            />\n          )}\n          {level >= 6 && (\n            <CardTableRowTwoLevels\n              cardIsInHand={cardIsInHand}\n              handleCardClick={handleCardClick}\n              character={character}\n              handleEnhancementChange={handleEnhancementChange}\n              firstCardSet={levelSixCards}\n              firstLevel={6}\n              level={level}\n              secondCardSet={levelSevenCards}\n              secondLevel={7}\n            />\n          )}\n          {level >= 8 && (\n            <CardTableRowTwoLevels\n              cardIsInHand={cardIsInHand}\n              handleCardClick={handleCardClick}\n              character={character}\n              handleEnhancementChange={handleEnhancementChange}\n              firstCardSet={levelEightCards}\n              firstLevel={8}\n              level={level}\n              secondCardSet={levelNineCards}\n              secondLevel={9}\n            />\n          )}\n        </tbody>\n      </table>\n      <div>\n        <SelectedHand character={character} hand={hand} />\n      </div>\n      <div align='center'>\n        <button\n          className='button'\n          type='button'\n          onClick={() => handleSetStage('selectPerks')}\n        >\n          Go Back To Perks\n        </button>\n        <button\n          className='button'\n          type='button'\n          title='Must Have a Full Hand'\n          onClick={handleConfirmHand}\n          disabled={hand.length < character.handSize}\n        >\n          Confirm Hand\n        </button>\n      </div>\n    </div>\n  )\n}\n\nfunction CardTableRowLevelOne({\n  cardIsInHand,\n  handleCardClick,\n  cardSet,\n  character,\n  handleEnhancementChange,\n}) {\n  return (\n    <>\n      <tr>\n        <td className='level'>Level 1:</td>\n        {cardSet.map((card) => {\n          return (\n            <td\n              key={card.title}\n              className='chooseCardsTable'\n              onClick={(e) => handleCardClick(e.target)}\n            >\n              <img\n                src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                className={\n                  cardIsInHand(card) ? 'chooseCards add-border' : 'chooseCards'\n                }\n                alt={card.title}\n              />\n              {card.enhancements.map((enhancement) => (\n                <EnhancementIcon\n                  key={enhancement.id}\n                  enhancement={enhancement}\n                />\n              ))}\n            </td>\n          )\n        })}\n      </tr>\n      <tr>\n        <td className='enhancement-label' />\n        {cardSet.map((card) => {\n          return (\n            <td key={`${card.title}-Enhancements`} className='enhancement'>\n              {card.enhancements.map((enhancement, index) => {\n                return (\n                  <EnhancementDropdown\n                    card={card}\n                    enhancement={enhancement}\n                    handleEnhancementChange={handleEnhancementChange}\n                    key={`${card.title}-${index}`}\n                  />\n                )\n              })}\n            </td>\n          )\n        })}\n      </tr>\n    </>\n  )\n}\n\nfunction CardTableRowTwoLevels({\n  cardIsInHand,\n  handleCardClick,\n  character,\n  handleEnhancementChange,\n  firstCardSet,\n  firstLevel,\n  level,\n  secondCardSet,\n  secondLevel,\n}) {\n  return (\n    <>\n      <tr>\n        {firstCardSet.length > 0 && (\n          <>\n            <td className='level'>Level {firstLevel}:</td>\n            {firstCardSet.map((card) => {\n              return (\n                <td\n                  key={card.title}\n                  className='chooseCardsTable'\n                  onClick={(e) => handleCardClick(e.target)}\n                >\n                  <img\n                    src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                    className={\n                      cardIsInHand(card)\n                        ? 'chooseCards add-border'\n                        : 'chooseCards'\n                    }\n                    alt={card.title}\n                  />\n                  {card.enhancements.map((enhancement) => (\n                    <EnhancementIcon\n                      key={enhancement.id}\n                      enhancement={enhancement}\n                    />\n                  ))}\n                </td>\n              )\n            })}\n          </>\n        )}\n\n        {level >= secondLevel && secondCardSet.length > 0 && (\n          <>\n            <td className='level'>Level {secondLevel}:</td>\n            {secondCardSet.map((card) => {\n              return (\n                <td\n                  key={card.title}\n                  className='chooseCardsTable'\n                  onClick={(e) => handleCardClick(e.target)}\n                >\n                  <img\n                    src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                    className={\n                      cardIsInHand(card)\n                        ? 'chooseCards add-border'\n                        : 'chooseCards'\n                    }\n                    alt={card.title}\n                  />\n                  {card.enhancements.map((enhancement) => (\n                    <EnhancementIcon\n                      key={enhancement.id}\n                      enhancement={enhancement}\n                    />\n                  ))}\n                </td>\n              )\n            })}\n          </>\n        )}\n      </tr>\n      <tr>\n        <td className='enhancement-label' />\n        {firstCardSet.map((card) => {\n          return (\n            <td key={`${card.title}-Enhancements`} className='enhancement'>\n              {card.enhancements.map((enhancement, index) => {\n                return (\n                  <EnhancementDropdown\n                    card={card}\n                    enhancement={enhancement}\n                    handleEnhancementChange={handleEnhancementChange}\n                    key={`${card.title}-${index}`}\n                  />\n                )\n              })}\n            </td>\n          )\n        })}\n        {level >= secondLevel && (\n          <>\n            <td className='enhancement-label' />\n            {secondCardSet.map((card) => {\n              return (\n                <td key={`${card.title}-Enhancements`} className='enhancement'>\n                  {card.enhancements.map((enhancement, index) => {\n                    return (\n                      <EnhancementDropdown\n                        card={card}\n                        enhancement={enhancement}\n                        handleEnhancementChange={handleEnhancementChange}\n                        key={`${card.title}-${index}`}\n                      />\n                    )\n                  })}\n                </td>\n              )\n            })}\n          </>\n        )}\n      </tr>\n    </>\n  )\n}\n\nfunction EnhancementDropdown({ card, enhancement, handleEnhancementChange }) {\n  const enhancementOptions = [\n    '+1',\n    'Leap',\n    'Wind',\n    'Ice',\n    'Fire',\n    'Leaf',\n    'Sun',\n    'Moon',\n    'Wild Element',\n    'Bless',\n    'Curse',\n    'Disarm',\n    'Immobilize',\n    'Wound',\n    'Muddle',\n    'Poison',\n    'Strengthen',\n    'Area',\n  ]\n\n  return (\n    <div className='enhancement-row'>\n      <label className='enhancement'>Enhancement:</label>\n      <select\n        onChange={(e) => handleEnhancementChange(card.title, enhancement.id, e)}\n      >\n        <option value=''>None</option>\n        {enhancementOptions.map((enhancementOption) => {\n          return (\n            <option key={enhancementOption} value={enhancementOption}>\n              {enhancementOption}\n            </option>\n          )\n        })}\n      </select>\n    </div>\n  )\n}\n\nfunction SelectedHand({ character, hand }) {\n  const firstRow = hand.slice(0, 4)\n  const secondRow = hand.slice(4, 8)\n  const thirdRow = hand.slice(8, 12)\n  return (\n    <table align='center'>\n      <tbody>\n        <tr>\n          {firstRow.map((card) => {\n            return (\n              <td key={card.title} className='hand'>\n                <img\n                  src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                  className='chooseCards'\n                  alt={card.title}\n                />\n                {card.enhancements.map((enhancement) => (\n                  <EnhancementIcon\n                    key={enhancement.id}\n                    enhancement={enhancement}\n                  />\n                ))}\n              </td>\n            )\n          })}\n        </tr>\n        <tr>\n          {secondRow.map((card) => {\n            return (\n              <td key={card.title} className='hand'>\n                <img\n                  src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                  className='chooseCards'\n                  alt={card.title}\n                />\n                {card.enhancements.map((enhancement) => (\n                  <EnhancementIcon\n                    key={enhancement.id}\n                    enhancement={enhancement}\n                  />\n                ))}\n              </td>\n            )\n          })}\n        </tr>\n        <tr>\n          {thirdRow.map((card) => {\n            return (\n              <td key={card.title} className='hand'>\n                <img\n                  src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n                  className='chooseCards'\n                  alt={card.title}\n                />\n                {card.enhancements.map((enhancement) => (\n                  <EnhancementIcon\n                    key={enhancement.id}\n                    enhancement={enhancement}\n                  />\n                ))}\n              </td>\n            )\n          })}\n        </tr>\n      </tbody>\n    </table>\n  )\n}\n\nfunction EnhancementIcon({ enhancement }) {\n  return (\n    <>\n      {enhancement.enhancement !== '' && (\n        <img\n          className='enhancement-icon'\n          src={`./images/enhancements/${enhancement.enhancement.toLowerCase()}.png`}\n          style={{ top: enhancement.top, left: enhancement.left }}\n          alt={`Enhancement Name`}\n        />\n      )}\n    </>\n  )\n}\n\nexport default HandSelection\n","import React, { useState, useEffect } from 'react'\nimport _ from 'lodash'\nimport Cookies from 'universal-cookie'\n// TODO: How do I persist what perks have been selected if someone navigates away and comes back?\n\nfunction PerkSelection({\n  modifyModifierDeck,\n  character,\n  characterPerks,\n  handleSetStage,\n  resetModifierDeck,\n}) {\n  const [perks, setPerk] = useState([\n    {\n      id: 1,\n      isChecked: false,\n    },\n    {\n      id: 2,\n      isChecked: false,\n    },\n    {\n      id: 3,\n      isChecked: false,\n    },\n    {\n      id: 4,\n      isChecked: false,\n    },\n    {\n      id: 5,\n      isChecked: false,\n    },\n    {\n      id: 6,\n      isChecked: false,\n    },\n    {\n      id: 7,\n      isChecked: false,\n    },\n    {\n      id: 8,\n      isChecked: false,\n    },\n    {\n      id: 9,\n      isChecked: false,\n    },\n    {\n      id: 10,\n      isChecked: false,\n    },\n    {\n      id: 11,\n      isChecked: false,\n    },\n    {\n      id: 12,\n      isChecked: false,\n    },\n    {\n      id: 13,\n      isChecked: false,\n    },\n    {\n      id: 14,\n      isChecked: false,\n    },\n    {\n      id: 15,\n      isChecked: false,\n    },\n  ])\n  const [changesToModifierDeck, setChangesToModifierDeck] = useState([])\n  const cookie = new Cookies()\n\n  useEffect(() => {\n    resetModifierDeck()\n    let cookieInfo = cookie.getAll()\n    if (cookieInfo.perks) {\n      setPerk(cookieInfo.perks)\n    }\n    if (cookieInfo.modifierChanges) {\n      setChangesToModifierDeck(cookieInfo.modifierChanges)\n    }\n  }, [])\n\n  function handlePerkChange(perkId, checkboxId, value) {\n    // Update value of perk in state\n    setPerk((prevPerks) => {\n      let newPerks = [...prevPerks]\n      newPerks[checkboxId].isChecked = value\n      return newPerks\n    })\n\n    // Find changes needed to Attack Modifier based on this perk\n    let changes = characterPerks.find((perk) => perk.id === perkId).changes\n\n    // Add or remove the changes for this perk from state, which is used in handleConfirmPerks()\n    if (value === true) {\n      setChangesToModifierDeck([...changesToModifierDeck, ...changes])\n    } else {\n      let newChangesToModifierDeck = [...changesToModifierDeck]\n      changes.forEach((change) => {\n        _.remove(newChangesToModifierDeck, change)\n      })\n      setChangesToModifierDeck(newChangesToModifierDeck)\n    }\n  }\n\n  function handleConfirmPerks() {\n    // Add perks to cookie\n    cookie.set('perks', perks, {\n      path: '/',\n      maxAge: 31104000,\n    })\n\n    cookie.set('modifierChanges', changesToModifierDeck, {\n      path: '/',\n      maxAge: 31104000,\n    })\n\n    // TODO: Got each function working independantly, but they don't work together. Need to combine these two functions into a single function and rework it.\n    // Adding cards to the modifier deck\n    let cardsToAdd = _.filter(changesToModifierDeck, { action: 'add' })\n    let formattedCardsToAdd = []\n    cardsToAdd.forEach((card) => {\n      for (let i = 0; i < card.number; i++) {\n        formattedCardsToAdd.push({\n          name: card.cardTitle,\n          image: `./images/attack-modifiers/${character.initials}/am-${character.initials}-${card.cardTitle}.png`,\n        })\n      }\n    })\n\n    // Removing cards from the modifier deck\n    let cardsToRemove = _.filter(changesToModifierDeck, { action: 'remove' })\n    // Send array of formatted card names to remove\n    let formattedCardsToRemove = []\n    cardsToRemove.forEach((card) => {\n      for (let i = 0; i < card.number; i++) {\n        formattedCardsToRemove.push({ name: card.cardTitle })\n      }\n    })\n    modifyModifierDeck(formattedCardsToRemove, formattedCardsToAdd)\n    handleSetStage('selectHand')\n  }\n\n  return (\n    <>\n      <div id='perk-section' align='center'>\n        <h2 id='perks-header' className='header'>\n          Select Your Perks\n        </h2>\n        <div className='perks'>\n          {characterPerks.map((perkData) => (\n            <div key={perkData.id}>\n              {perkData.checkboxes.map((checkbox) => (\n                <div\n                  key={checkbox.id}\n                  className={\n                    perks[checkbox.id].isChecked\n                      ? 'checkbox checked'\n                      : 'checkbox'\n                  }\n                  onClick={\n                    perks[checkbox.id].isChecked\n                      ? () => handlePerkChange(perkData.id, checkbox.id, false)\n                      : () => handlePerkChange(perkData.id, checkbox.id, true)\n                  }\n                />\n              ))}\n              <p>{perkData.label}</p>\n            </div>\n          ))}\n          <button\n            id='confirmPerksButton'\n            className='button'\n            type='button'\n            onClick={() => handleConfirmPerks()}\n          >\n            Confirm Perks\n          </button>\n        </div>\n        <button\n          className='button'\n          type='button'\n          onClick={() => handleSetStage('selectCharacter')}\n        >\n          Go Back To Character Select\n        </button>\n      </div>\n    </>\n  )\n}\n\nexport default PerkSelection\n","import React, { useState } from 'react'\n\nfunction CardContainer({\n  card,\n  cardClass = '',\n  containerClass,\n  cardSelected,\n  character,\n  mustLose,\n  onClick,\n}) {\n  const [trackerButtons, setTrackerButtons] = useState(card.tracker)\n\n  function handleClickTracker(i) {\n    let newTrackerButtons = [...trackerButtons]\n    newTrackerButtons[i].active = !newTrackerButtons[i].active\n    setTrackerButtons(newTrackerButtons)\n  }\n\n  return (\n    <td\n      key={card.title}\n      className={containerClass}\n      onClick={(e) => onClick(e.target)}\n    >\n      <img\n        src={`./images/character-ability-cards/${character.initials}/${card.title}.png`}\n        className={\n          cardSelected(card) ? `new-add-border ${cardClass}` : `${cardClass}`\n        }\n        alt={card.title}\n      />\n      {card.enhancements.map((enhancement) => (\n        <EnhancementIcon key={enhancement.id} enhancement={enhancement} />\n      ))}\n      {mustLose && <p>Must Lose</p>}\n      {containerClass === 'active-card' && card.tracker.length > 0 && (\n        <>\n          <br />\n          {card.tracker.map((tracker, i) => (\n            <button\n              disabled={!trackerButtons[i].active}\n              onClick={() => handleClickTracker(i)}\n            >\n              {i + 1}\n            </button>\n          ))}\n        </>\n      )}\n    </td>\n  )\n}\n\nfunction EnhancementIcon({ enhancement }) {\n  return (\n    <>\n      {enhancement.enhancement !== '' && (\n        <img\n          className='enhancement-icon'\n          src={`./images/enhancements/${enhancement.enhancement.toLowerCase()}.png`}\n          style={{ top: enhancement.top, left: enhancement.left }}\n          alt={`Enhancement Name`}\n        />\n      )}\n    </>\n  )\n}\n\nexport default CardContainer\n","import React, {useState} from 'react'\n\nimport _ from 'lodash'\n\nfunction ModifierDeck({ modifierDeck }) {\n  const [playedModifyCards, setPlayedModifyCards] = useState([])\n  const [localModifierDeck, setLocalModifierDeck] = useState(modifierDeck)\n  const [mustShuffle, setMustShuffle] = useState(false)\n  const [extraBlessCount, setExtraBlessCount] = useState(0)\n  const [extraCurseCount, setExtraCurseCount] = useState(0)\n  const [extraMinusOneCount, setExtraMinusOneCount] = useState(0)\n  const [displayModal, setDisplayModal] = useState(false)\n\n  const minus1Card = {\n    name: 'extraMinus1',\n    image: './images/attack-modifiers/base/player-mod/am-pm-minus1.png',\n  }\n  const curseCard = {\n    name: 'extraCurse',\n    image: './images/attack-modifiers/base/player-mod/am-pm-curse.png',\n  }\n  const blessingCard = {\n    name: 'extraBless',\n    image: './images/attack-modifiers/base/player-mod/am-pm-bless.png',\n  }\n\n  function handleFlipModifier() {\n    let newLocalModifierDeck = [...localModifierDeck]\n    setPlayedModifyCards([...playedModifyCards, newLocalModifierDeck[0]])\n    let playedCard = newLocalModifierDeck.shift()\n    setLocalModifierDeck(newLocalModifierDeck)\n    if (playedCard.name === 'times2' || playedCard.name === 'miss') {\n      setMustShuffle(true)\n    } else if (playedCard.name === 'extraBless') {\n      setExtraBlessCount(extraBlessCount - 1)\n    } else if (playedCard.name === 'extraCurse') {\n      setExtraCurseCount(extraCurseCount - 1)\n    }\n  }\n\n  function handleShuffleModifierDeck(addPlayedCards) {\n    let shuffledModifierDeck = []\n    if (addPlayedCards) {\n      let playedMinusBlessCurseMinusOne = [...playedModifyCards]\n      _.remove(playedMinusBlessCurseMinusOne, blessingCard)\n      _.remove(playedMinusBlessCurseMinusOne, curseCard)\n      _.remove(playedMinusBlessCurseMinusOne, minus1Card)\n      shuffledModifierDeck = [\n        ...localModifierDeck,\n        ...playedMinusBlessCurseMinusOne,\n      ]\n      setPlayedModifyCards([])\n      setMustShuffle(false)\n    } else {\n      shuffledModifierDeck = [...localModifierDeck]\n    }\n    for (let i = shuffledModifierDeck.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i)\n      const temp = shuffledModifierDeck[i]\n      shuffledModifierDeck[i] = shuffledModifierDeck[j]\n      shuffledModifierDeck[j] = temp\n    }\n    setLocalModifierDeck(shuffledModifierDeck)\n  }\n\n  function handleAddBless() {\n    if (extraBlessCount < 10) {\n      let newLocalModifierDeck = [...localModifierDeck, blessingCard]\n      // When I had it shuffle once, the bless was always the last card. Suffling twice fixes this, but there is likely a better way to do this.\n      for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i)\n        const temp = newLocalModifierDeck[i]\n        newLocalModifierDeck[i] = newLocalModifierDeck[j]\n        newLocalModifierDeck[j] = temp\n      }\n      for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i)\n        const temp = newLocalModifierDeck[i]\n        newLocalModifierDeck[i] = newLocalModifierDeck[j]\n        newLocalModifierDeck[j] = temp\n      }\n      setLocalModifierDeck(newLocalModifierDeck)\n      setExtraBlessCount(extraBlessCount + 1)\n    }\n  }\n\n  function handleAddCurse() {\n    if (extraCurseCount < 10) {\n      let newLocalModifierDeck = [...localModifierDeck, curseCard]\n      // When I had it shuffle once, the bless was always the last card. Suffling twice fixes this, but there is likely a better way to do this.\n      for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i)\n        const temp = newLocalModifierDeck[i]\n        newLocalModifierDeck[i] = newLocalModifierDeck[j]\n        newLocalModifierDeck[j] = temp\n      }\n      for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i)\n        const temp = newLocalModifierDeck[i]\n        newLocalModifierDeck[i] = newLocalModifierDeck[j]\n        newLocalModifierDeck[j] = temp\n      }\n      setLocalModifierDeck(newLocalModifierDeck)\n      setExtraCurseCount(extraCurseCount + 1)\n    }\n  }\n\n  function handleAddMinusOneCard() {\n    let newLocalModifierDeck = [...localModifierDeck, minus1Card]\n    // When I had it shuffle once, the bless was always the last card. Suffling twice fixes this, but there is likely a better way to do this.\n    for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i)\n      const temp = newLocalModifierDeck[i]\n      newLocalModifierDeck[i] = newLocalModifierDeck[j]\n      newLocalModifierDeck[j] = temp\n    }\n    for (let i = newLocalModifierDeck.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i)\n      const temp = newLocalModifierDeck[i]\n      newLocalModifierDeck[i] = newLocalModifierDeck[j]\n      newLocalModifierDeck[j] = temp\n    }\n    setExtraMinusOneCount(extraMinusOneCount + 1)\n    setLocalModifierDeck(newLocalModifierDeck)\n  }\n\n  function handleRemoveMinusOneCard() {\n    if (extraMinusOneCount > 0) {\n      let newLocalModifierDeck = [...localModifierDeck]\n      let cardIndex = _.findIndex(newLocalModifierDeck, minus1Card)\n      newLocalModifierDeck.splice(cardIndex, 1)\n      setLocalModifierDeck(newLocalModifierDeck)\n      setExtraMinusOneCount(extraMinusOneCount - 1)\n    }\n  }\n\n  function handleResetModifierDeck() {\n    let newLocalModifierDeck = [...localModifierDeck, ...playedModifyCards]\n    // Probably a better way to do this...\n    _.remove(newLocalModifierDeck, minus1Card)\n    _.remove(newLocalModifierDeck, curseCard)\n    _.remove(newLocalModifierDeck, blessingCard)\n    setLocalModifierDeck(newLocalModifierDeck)\n    setPlayedModifyCards([])\n    setExtraCurseCount(0)\n    setExtraBlessCount(0)\n  }\n\n  function showModal() {\n    setDisplayModal(true)\n  }\n\n  function hideModal() {\n    setDisplayModal(false)\n  }\n\n  function handleRemoveAllCurseCards() {\n    let newModDeck = [...localModifierDeck]\n    _.remove(newModDeck, curseCard)\n    setLocalModifierDeck(newModDeck)\n    setExtraCurseCount(0)\n  }\n\n  return (\n    <div id=\"attack-modifier-deck\" align=\"center\">\n      {mustShuffle && (\n        <h2 id=\"mustShuffle\" style={{ color: 'red' }}>\n          Must Shuffle At End of Turn\n        </h2>\n      )}\n      <h2 id=\"cardsInDeck\" style={{ color: 'white' }}>\n        Cards in Deck:{` ${localModifierDeck.length}`}\n      </h2>\n      <h6 id=\"blessesInDeck\" style={{ color: 'white' }}>\n        Extra Blesses in deck: {extraBlessCount}\n      </h6>\n      <h6 id=\"cursesInDeck\" style={{ color: 'white' }}>\n        Extra Curses in deck: {extraCurseCount}\n      </h6>\n      <h6 id=\"cursesInDeck\" style={{ color: 'white' }}>\n        Extra -1 cards in deck: {extraMinusOneCount}\n      </h6>\n      {localModifierDeck.length > 0 && (\n        <img\n          alt=\"Attack Modifier Deck\"\n          id=\"amDeck\"\n          className=\"attack-modifier\"\n          onClick={() => handleFlipModifier()}\n          src=\"./images/modifier-deck/cardBack.png\"\n        />\n      )}\n      {playedModifyCards.length > 0 && (\n        <img\n          alt=\"Played Modifiers\"\n          id=\"playedModifiers\"\n          className=\"attack-modifier\"\n          onClick={() => showModal()}\n          src={playedModifyCards[playedModifyCards.length - 1].image}\n        />\n      )}\n      <br />\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleShuffleModifierDeck(true)}\n      >\n        Shuffle Modifiers\n      </button>\n      <br />\n      <button className=\"button\" type=\"button\" onClick={() => handleAddBless()}>\n        Bless\n      </button>\n      <button className=\"button\" type=\"button\" onClick={() => handleAddCurse()}>\n        Curse\n      </button>\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleAddMinusOneCard()}\n      >\n        Add -1 Card\n      </button>\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleRemoveMinusOneCard()}\n      >\n        Remove -1 card\n      </button>\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleResetModifierDeck()}\n      >\n        Reset Modifier Deck\n      </button>\n      <button\n        className=\"button\"\n        type=\"button\"\n        onClick={() => handleRemoveAllCurseCards()}\n      >\n        Remove all curse cards\n      </button>\n      <ModifierModal\n        handleClose={hideModal}\n        playedModifierCards={playedModifyCards}\n        show={displayModal}\n      />\n    </div>\n  )\n}\n\nfunction ModifierModal({ handleClose, playedModifierCards, show }) {\n  const style = show ? { display: 'block' } : { display: 'none' }\n  return (\n    <div id=\"zoomModal\" style={style}>\n      <div id=\"zoomContent\">\n        <h2 style={{ color: 'black', textAlign: 'center' }}>\n          Played Modifiers\n        </h2>\n        <span className=\"close\" onClick={handleClose}>\n          &times;\n        </span>\n        <div id=\"used-modifier-cards\">\n          {playedModifierCards.map((card, index) => (\n            <img alt={card.title} src={card.image} key={index} />\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ModifierDeck\n","import React, { useState } from 'react'\n\nimport CardContainer from '../../CardContainer'\nimport ModifierDeck from './ModifierDeck'\nimport { isEmpty } from 'lodash'\n\nfunction ChosenCards({\n  character,\n  chosenCards,\n  modifierDeck,\n  moveCardToActive,\n  moveCardToDiscard,\n  moveCardToLost,\n  returnChosenCardsToHand,\n  staffOfCommand,\n}) {\n  const [selectedCard, setSelectedCard] = useState({})\n\n  function cardSelected(card) {\n    if (selectedCard === card) {\n      return true\n    }\n    return false\n  }\n\n  function noCardsPlayed() {\n    return (\n      Object.keys(chosenCards[0]).length === 0 ||\n      Object.keys(chosenCards[1]).length === 0\n    )\n  }\n\n  function handleCardClick(cardClicked) {\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (\n      cardClicked.className === 'hand' ||\n      cardClicked.className === 'card-in-play'\n    ) {\n      cardClicked = cardClicked.firstChild\n    }\n    let cardToSelect = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    cardToSelect === selectedCard\n      ? setSelectedCard({})\n      : setSelectedCard(cardToSelect)\n  }\n\n  function handleDiscardChosenCard() {\n    moveCardToDiscard(selectedCard)\n    setSelectedCard({})\n  }\n\n  function handleLostChosenCard() {\n    moveCardToLost(selectedCard)\n    setSelectedCard({})\n  }\n\n  function handleActivateChosenCard() {\n    moveCardToActive(selectedCard)\n    setSelectedCard({})\n  }\n\n  const cardIsSelected = !isEmpty(selectedCard)\n  const canMoveToActive = cardIsSelected && selectedCard.tracker.length > 0\n\n  return (\n    <td\n      className='chosen-cards-title'\n      colSpan='2'\n      style={{ border: '1px solid white', textAlign: 'center' }}\n    >\n      Chosen Cards\n      <br />\n      <table align='center'>\n        <tbody>\n          <tr>\n            {Object.keys(chosenCards[0]).length === 0 ? (\n              <td id='chosen-card-1' className='card-in-play'>\n                <img\n                  alt='Chosen Card 1'\n                  src={`./images/character-ability-cards/${character.initials}/${character.initials}-back.png`}\n                  className='card'\n                />\n              </td>\n            ) : (\n              <CardContainer\n                card={chosenCards[0]}\n                cardClass={'chooseCards'}\n                containerClass={'card-in-play'}\n                cardSelected={cardSelected}\n                character={character}\n                onClick={handleCardClick}\n              />\n            )}\n            {Object.keys(chosenCards[1]).length === 0 ? (\n              <td id='chosen-card-2' className='card-in-play'>\n                <img\n                  alt='Chosen Card 1'\n                  src={`./images/character-ability-cards/${character.initials}/${character.initials}-back.png`}\n                  className='card'\n                />\n              </td>\n            ) : (\n              <CardContainer\n                card={chosenCards[1]}\n                cardClass={'chooseCards'}\n                containerClass={'card-in-play'}\n                cardSelected={cardSelected}\n                character={character}\n                onClick={handleCardClick}\n              />\n            )}\n            {staffOfCommand && Object.keys(chosenCards[2]).length === 0 && (\n              <td id='chosen-card-3' className='card-in-play'>\n                <img\n                  alt='Chosen Card 1'\n                  src={`./images/character-ability-cards/${character.initials}/${character.initials}-back.png`}\n                  className='card'\n                />\n              </td>\n            )}\n            {staffOfCommand && Object.keys(chosenCards[2]).length !== 0 && (\n              <CardContainer\n                card={chosenCards[2]}\n                cardClass={'chooseCards'}\n                containerClass={'card-in-play'}\n                cardSelected={cardSelected}\n                character={character}\n                onClick={handleCardClick}\n              />\n            )}\n          </tr>\n        </tbody>\n      </table>\n      <div>\n        <br />\n        <button\n          id='discard-button'\n          className='button tooltip'\n          disabled={!cardIsSelected}\n          type='button'\n          title='Must Have a Card In Play Selected'\n          onClick={() => handleDiscardChosenCard()}\n        >\n          Discard Card\n        </button>\n        <button\n          id='lose-button'\n          className='button tooltip'\n          disabled={!cardIsSelected}\n          onClick={() => handleLostChosenCard()}\n          type='button'\n          title='Must Have a Card In Play Selected'\n        >\n          Lose Card\n        </button>\n        <button\n          id='activate-button'\n          className='button tooltip'\n          disabled={!canMoveToActive}\n          onClick={() => handleActivateChosenCard()}\n          type='button'\n          title='Must Have a Card In Play Selected'\n        >\n          Move Card to Active\n        </button>\n        <button\n          className='button tooltip'\n          disabled={noCardsPlayed()}\n          onClick={() => returnChosenCardsToHand()}\n          title='Select New Cards'\n        >\n          Select New Cards\n        </button>\n      </div>\n      <ModifierDeck modifierDeck={modifierDeck} />\n    </td>\n  )\n}\n\nexport default ChosenCards\n","import React, {useState} from 'react'\n\nimport CardContainer from '../../CardContainer'\nimport _ from 'lodash'\n\nfunction HandCards({\n  character,\n  hand,\n  moveHandCardToLost,\n  moveCardsToChosen,\n  moveThirdCardToChosen,\n  hasCardsInPlay,\n  staffOfCommand,\n  staffOfCommandPlayed\n}) {\n  const rowOne = hand.slice(0, 4)\n  const rowTwo = hand.slice(4, 8)\n  const rowThree = hand.slice(8, 12)\n\n  const [selectedCards, setSelectedCards] = useState([])\n\n  function handleOnClick(cardClicked) {\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (cardClicked.className === 'hand') {\n      cardClicked = cardClicked.firstChild\n    }\n    let characterCard = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    if (selectedCards.some((card) => card.title === cardClicked.alt)) {\n      let newSelection = [...selectedCards]\n      _.remove(newSelection, characterCard)\n      setSelectedCards(newSelection)\n    } else {\n      if (selectedCards.length < 2) {\n        setSelectedCards([...selectedCards, characterCard])\n      } else {\n        let newSelection = [...selectedCards]\n        newSelection.shift()\n        newSelection.push(characterCard)\n        setSelectedCards(newSelection)\n      }\n    }\n  }\n\n  function cardSelected(cardClicked) {\n    if (selectedCards.some((card) => card.title === cardClicked.title)) {\n      return true\n    }\n    return false\n  }\n\n  function handlePlayCards() {\n    moveCardsToChosen(selectedCards)\n    setSelectedCards([])\n  }\n\n  function handlePlayStaffOfCommand() {\n    let cardToPlay = selectedCards\n    moveThirdCardToChosen(cardToPlay)\n    setSelectedCards([])\n  }\n\n  function handleLostCardToAvoidDamage() {\n    moveHandCardToLost(selectedCards[0])\n    setSelectedCards([])\n  }\n\n  return (\n    <>\n      <div id=\"hand-cards\">\n        <table align=\"center\">\n          <tbody>\n            <tr>\n              {rowOne.map((card) => (\n                <CardContainer\n                  key={card.title}\n                  card={card}\n                  containerClass=\"hand\"\n                  cardSelected={cardSelected}\n                  character={character}\n                  onClick={handleOnClick}\n                />\n              ))}\n            </tr>\n            <tr>\n              {rowTwo.map((card) => (\n                <CardContainer\n                  key={card.title}\n                  card={card}\n                  containerClass=\"hand\"\n                  cardSelected={cardSelected}\n                  character={character}\n                  onClick={handleOnClick}\n                />\n              ))}\n            </tr>\n            <tr>\n              {rowThree.map((card) => (\n                <CardContainer\n                  key={card.title}\n                  card={card}\n                  containerClass=\"hand\"\n                  cardSelected={cardSelected}\n                  character={character}\n                  onClick={handleOnClick}\n                />\n              ))}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div id=\"confirm-buttons\" align=\"center\">\n        <button\n          id=\"play-cards-button\"\n          className=\"button\"\n          disabled={selectedCards.length !== 2 || hasCardsInPlay}\n          type=\"button\"\n          title=\"Must Select 2 Cards, Not Have Any Cards In Play, And Not Be Resting\"\n          onClick={() => handlePlayCards()}\n        >\n          Play Cards\n        </button>\n        {staffOfCommand && (\n          <button\n            id=\"play-third-card\"\n            className=\"button\"\n            disabled={!hasCardsInPlay || selectedCards.length !== 1 || staffOfCommandPlayed}\n            onClick={() => handlePlayStaffOfCommand()}\n            type=\"button\"\n            title=\"Must Have Played Cards\"\n          >\n            Play third card with Staff of Command\n          </button>\n        )}\n        <button\n          id=\"lose-hand-card\"\n          className=\"button\"\n          disabled={selectedCards.length !== 1}\n          onClick={() => handleLostCardToAvoidDamage()}\n          type=\"button\"\n          title=\"Must Have One Card Selected\"\n        >\n          Lose Card To Avoid Damage\n        </button>\n      </div>\n    </>\n  )\n}\n\nexport default HandCards","import React, {useState} from 'react'\n\nfunction PlayerStats({ character, level }) {\n  // Character Status Effects\n  const [poisoned, setPoisoned] = useState(false)\n  const [wounded, setWounded] = useState(false)\n  const [immobilized, setImmobilized] = useState(false)\n  const [disarmed, setDisarmed] = useState(false)\n  const [regenerate, setRegenerate] = useState(false)\n  const [stunned, setStunned] = useState(false)\n  const [muddled, setMuddled] = useState(false)\n  const [invisible, setInvisible] = useState(false)\n  const [strengthened, setStrengthened] = useState(false)\n\n  // Bear Status Effects\n  const [bearPoisoned, setBearPoisoned] = useState(false)\n  const [bearWounded, setBearWounded] = useState(false)\n  const [bearImmobilized, setBearImmobilized] = useState(false)\n  const [bearDisarmed, setBearDisarmed] = useState(false)\n  const [bearRegenerate, setBearRegenerate] = useState(false)\n  const [bearStunned, setBearStunned] = useState(false)\n  const [bearMuddled, setBearMuddled] = useState(false)\n  const [bearInvisible, setBearInvisible] = useState(false)\n  const [bearStrengthened, setBearStrengthened] = useState(false)\n\n  // Health, Exeperience, and Loot\n  const [health, setHealth] = useState(character.health[level - 1])\n  const [bearHealth, setBearHealth] = useState(8 + level * 2)\n  const [experience, setExperience] = useState(0)\n  const [loot, setLoot] = useState(0)\n\n  const maxHealth = character.health[level - 1]\n  const maxBearHealth = 8 + level * 2\n\n  return (\n    <>\n      <table align=\"center\">\n        <tbody>\n          <tr>\n            <td id=\"status-effects\" align=\"center\" colSpan=\"4\">\n              Status Effects\n              <br />\n              {poisoned && (\n                <img\n                  id=\"poisoned\"\n                  className=\"status\"\n                  src=\"./images/status-effects/poisoned.png\"\n                  alt=\"Poisoned\"\n                />\n              )}\n              {wounded && (\n                <img\n                  id=\"wounded\"\n                  className=\"status\"\n                  src=\"./images/status-effects/wounded.png\"\n                  alt=\"Wounded\"\n                />\n              )}\n              {immobilized && (\n                <img\n                  id=\"immobilized\"\n                  className=\"status\"\n                  src=\"./images/status-effects/immobilized.png\"\n                  alt=\"Immobilized\"\n                />\n              )}\n              {disarmed && (\n                <img\n                  id=\"disarmed\"\n                  className=\"status\"\n                  src=\"./images/status-effects/disarmed.png\"\n                  alt=\"Disarmed\"\n                />\n              )}\n              <img\n                id=\"spacer\"\n                className=\"status\"\n                src=\"./images/status-effects/disarmed.png\"\n                alt=\"spacer\"\n              />\n              {regenerate && (\n                <img\n                  id=\"regenerate\"\n                  className=\"status\"\n                  src=\"./images/status-effects/regenerate.png\"\n                  alt=\"Regenerate\"\n                />\n              )}\n              <img\n                id=\"spacer\"\n                className=\"status\"\n                src=\"./images/status-effects/disarmed.png\"\n                alt=\"spacer\"\n              />\n              {stunned && (\n                <img\n                  id=\"stunned\"\n                  className=\"status\"\n                  src=\"./images/status-effects/stunned.png\"\n                  alt=\"Stunned\"\n                />\n              )}\n              {muddled && (\n                <img\n                  id=\"muddled\"\n                  className=\"status\"\n                  src=\"./images/status-effects/muddled.png\"\n                  alt=\"Muddled\"\n                />\n              )}\n              {invisible && (\n                <img\n                  id=\"invisible\"\n                  className=\"status\"\n                  src=\"./images/status-effects/invisible.png\"\n                  alt=\"Invisible\"\n                />\n              )}\n              {strengthened && (\n                <img\n                  id=\"strengthened\"\n                  className=\"status\"\n                  src=\"./images/status-effects/strengthen.png\"\n                  alt=\"Strengthened\"\n                />\n              )}\n              <br />\n              <button\n                id=\"toggle-poison\"\n                type=\"button\"\n                onClick={() => setPoisoned(!poisoned)}\n              >\n                Poisoned\n              </button>\n              <button\n                id=\"toggle-wounded\"\n                type=\"button\"\n                onClick={() => setWounded(!wounded)}\n              >\n                Wounded\n              </button>\n              <button\n                id=\"toggle-immobilized\"\n                type=\"button\"\n                onClick={() => setImmobilized(!immobilized)}\n              >\n                Immobilized\n              </button>\n              <button\n                id=\"toggle-disarmed\"\n                type=\"button\"\n                onClick={() => setDisarmed(!disarmed)}\n              >\n                Disarmed\n              </button>\n              <button\n                id=\"toggle-regenerate\"\n                type=\"button\"\n                onClick={() => setRegenerate(!regenerate)}\n              >\n                Regenerate\n              </button>\n              <button\n                id=\"toggle-stunned\"\n                type=\"button\"\n                onClick={() => setStunned(!stunned)}\n              >\n                Stunned\n              </button>\n              <button\n                id=\"toggle-muddled\"\n                type=\"button\"\n                onClick={() => setMuddled(!muddled)}\n              >\n                Muddled\n              </button>\n              <button\n                id=\"toggle-invisible\"\n                type=\"button\"\n                onClick={() => setInvisible(!invisible)}\n              >\n                Invisible\n              </button>\n              <button\n                id=\"toggle-strengthened\"\n                type=\"button\"\n                onClick={() => setStrengthened(!strengthened)}\n              >\n                Strengthened\n              </button>\n            </td>\n          </tr>\n          {character.name === 'beastTyrant' && (\n            <tr id=\"bear-status-effects\">\n              <td id=\"bear-effects\" align=\"center\" colSpan=\"4\">\n                Bear Status Effects\n                <br />\n                {bearPoisoned && (\n                  <img\n                    id=\"bear-poisoned\"\n                    className=\"status\"\n                    src=\"./images/status-effects/poisoned.png\"\n                    alt=\"Bear Poisoned\"\n                  />\n                )}\n                {bearWounded && (\n                  <img\n                    id=\"bear-wounded\"\n                    className=\"status\"\n                    src=\"./images/status-effects/wounded.png\"\n                    alt=\"Bear Wounded\"\n                  />\n                )}\n                {bearImmobilized && (\n                  <img\n                    id=\"bear-immobilized\"\n                    className=\"status\"\n                    src=\"./images/status-effects/immobilized.png\"\n                    alt=\"Bear Immobilized\"\n                  />\n                )}\n                {bearDisarmed && (\n                  <img\n                    id=\"bear-disarmed\"\n                    className=\"status\"\n                    src=\"./images/status-effects/disarmed.png\"\n                    alt=\"Bear Disarmed\"\n                  />\n                )}\n                <img\n                  id=\"bear-spacer\"\n                  className=\"status\"\n                  src=\"./images/status-effects/disarmed.png\"\n                  alt=\"Bear Spacer\"\n                />\n                {bearRegenerate && (\n                <img\n                  id=\"bear-regenerate\"\n                  className=\"status\"\n                  src=\"./images/status-effects/regenerate.png\"\n                  alt=\"Bear Regenerate\"\n                />\n              )}\n              <img\n                id=\"spacer\"\n                className=\"status\"\n                src=\"./images/status-effects/disarmed.png\"\n                alt=\"spacer\"\n              />\n                {bearStunned && (\n                  <img\n                    id=\"bear-stunned\"\n                    className=\"status\"\n                    src=\"./images/status-effects/stunned.png\"\n                    alt=\"Bear Stunned\"\n                  />\n                )}\n                {bearMuddled && (\n                  <img\n                    id=\"bear-muddled\"\n                    className=\"status\"\n                    src=\"./images/status-effects/muddled.png\"\n                    alt=\"Bear Muddled\"\n                  />\n                )}\n                {bearInvisible && (\n                  <img\n                    id=\"bear-invisible\"\n                    className=\"status\"\n                    src=\"./images/status-effects/invisible.png\"\n                    alt=\"Bear Invisible\"\n                  />\n                )}\n                {bearStrengthened && (\n                  <img\n                    id=\"bear-strengthened\"\n                    className=\"status\"\n                    src=\"./images/status-effects/strengthen.png\"\n                    alt=\"Bear Strengthened\"\n                  />\n                )}\n                <br />\n                <button\n                  id=\"toggle-bear-poison\"\n                  type=\"button\"\n                  onClick={() => setBearPoisoned(!bearPoisoned)}\n                >\n                  Bear Poisoned\n                </button>\n                <button\n                  id=\"toggle-bear-wounded\"\n                  type=\"button\"\n                  onClick={() => setBearWounded(!bearWounded)}\n                >\n                  Bear Wounded\n                </button>\n                <button\n                  id=\"toggle-bear-immobilized\"\n                  type=\"button\"\n                  onClick={() => setBearImmobilized(!bearImmobilized)}\n                >\n                  Bear Immobilized\n                </button>\n                <button\n                  id=\"toggle-bear-disarmed\"\n                  type=\"button\"\n                  onClick={() => setBearDisarmed(!bearDisarmed)}\n                >\n                  Bear Disarmed\n                </button>\n                <button\n                  id=\"toggle-bear-regenerate\"\n                  type=\"button\"\n                  onClick={() => setBearRegenerate(!bearRegenerate)}\n                >\n                  Bear Regenerate\n                </button>\n                <button\n                  id=\"toggle-bear-stunned\"\n                  type=\"button\"\n                  onClick={() => setBearStunned(!bearStunned)}\n                >\n                  Bear Stunned\n                </button>\n                <button\n                  id=\"toggle-bear-muddled\"\n                  type=\"button\"\n                  onClick={() => setBearMuddled(!bearMuddled)}\n                >\n                  Bear Muddled\n                </button>\n                <button\n                  id=\"toggle-bear-invisible\"\n                  type=\"button\"\n                  onClick={() => setBearInvisible(!bearInvisible)}\n                >\n                  Bear Invisible\n                </button>\n                <button\n                  id=\"toggle-bear-strengthened\"\n                  type=\"button\"\n                  onClick={() => setBearStrengthened(!bearStrengthened)}\n                >\n                  Bear Strengthened\n                </button>\n              </td>\n            </tr>\n          )}\n          <tr>\n            <td id=\"health\" align=\"center\" colSpan=\"1\">\n              <br />\n              <div id=\"character-health\">\n                Health\n                <p\n                  id=\"health-counter\"\n                  style={{ fontSize: '35px', color: 'red' }}\n                >\n                  {health}\n                </p>\n                <br />\n                <button\n                  id=\"damage\"\n                  type=\"button\"\n                  style={{ fontSize: '15px' }}\n                  disabled={health < 1}\n                  onClick={() => setHealth(health - 1)}\n                >\n                  -\n                </button>\n                <button\n                  disabled={health === maxHealth}\n                  id=\"heal\"\n                  type=\"button\"\n                  style={{ fontSize: '15px' }}\n                  title=\"If Poisoned, Heal Skills Must Remove Poison Instead of Increasing Health\"\n                  onClick={() => setHealth(health + 1)}\n                >\n                  +\n                </button>\n              </div>\n              {character.name === 'beastTyrant' && (\n                <div id=\"bear-health\">\n                  Bear Health\n                  <p\n                    id=\"bear-health-counter\"\n                    style={{ fontSize: '35px', color: 'red' }}\n                  >\n                    {bearHealth}\n                  </p>\n                  <br />\n                  <button\n                    disabled={bearHealth < 1}\n                    id=\"damage-bear\"\n                    type=\"button\"\n                    style={{ fontSize: '15px' }}\n                    onClick={() => setBearHealth(bearHealth - 1)}\n                  >\n                    -\n                  </button>\n                  <button\n                    disabled={bearHealth === maxBearHealth}\n                    id=\"heal-bear\"\n                    type=\"button\"\n                    style={{ fontSize: '15px' }}\n                    title=\"If Poisoned, Heal Skills Must Remove Poison Instead of Increasing Health\"\n                    onClick={() => setBearHealth(bearHealth + 1)}\n                  >\n                    +\n                  </button>\n                </div>\n              )}\n            </td>\n            <td id=\"xp\" align=\"center\" colSpan=\"1\">\n              Experience\n              <br />\n              <p id=\"xp-counter\" style={{ fontSize: '35px', color: 'cyan' }}>\n                {experience}\n              </p>\n              <br />\n              <button\n                disabled={experience < 1}\n                id=\"xp-down\"\n                type=\"button\"\n                style={{ fontSize: '15px' }}\n                onClick={() => setExperience(experience - 1)}\n              >\n                -\n              </button>\n              <button\n                id=\"xp-up\"\n                type=\"button\"\n                style={{ fontSize: '15px' }}\n                onClick={() => setExperience(experience + 1)}\n              >\n                +\n              </button>\n            </td>\n            <td id=\"loot\" align=\"center\" colSpan=\"1\">\n              Loot\n              <br />\n              <p id=\"loot-counter\" style={{ fontSize: '35px', color: 'gold' }}>\n                {loot}\n              </p>\n              <br />\n              <button\n                disabled={loot < 1}\n                id=\"loot-down\"\n                type=\"button\"\n                style={{ fontSize: '15px' }}\n                onClick={() => setLoot(loot - 1)}\n              >\n                -\n              </button>\n              <button\n                id=\"loot-up\"\n                type=\"button\"\n                style={{ fontSize: '15px' }}\n                onClick={() => setLoot(loot + 1)}\n              >\n                +\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  )\n}\n\nexport default PlayerStats","import { CheckboxCard, StackView, Text } from '@planning-center/ui-kit'\nimport React, { useEffect, useState } from 'react'\n\nimport CardContainer from './CardContainer'\nimport ChosenCards from './components/playArea/ChosenCards'\nimport HandCards from './components/playArea/HandCards'\nimport { slide as Menu } from 'react-burger-menu'\nimport PlayerStats from './components/playArea/PlayerStats'\nimport _ from 'lodash'\n\nfunction PlayArea({\n  character,\n  hand,\n  level,\n  modifierDeck,\n  setHand,\n  staffOfCommand,\n}) {\n  const [hasCardsInPlay, setHasCardsInPlay] = useState(false)\n  const [chosenCards, setChosenCards] = useState([{}, {}, {}])\n  const [discardedCards, setDiscardedCards] = useState([])\n  const [activeCards, setActiveCards] = useState([])\n  const [lostCards, setLostCards] = useState([])\n  const [showPlayerStats, setShowPlayerStats] = useState(false)\n\n  useEffect(() => {\n    modifierDeck.forEach((image) => {\n      const newImage = new Image()\n      newImage.src = image.image\n    })\n  }, [])\n\n  function anyChosenCardsLeft(newArray) {\n    let cardsStillInPlay = newArray.filter(\n      (value) => Object.keys(value).length !== 0\n    )\n    if (cardsStillInPlay.length > 0) {\n      return true\n    }\n    return false\n  }\n\n  function moveCardsToChosen(cards) {\n    // remove selected cards from hand\n    let newHand = [...hand]\n    cards.forEach((card) => {\n      _.remove(newHand, function (handCard) {\n        return handCard.title === card.title\n      })\n    })\n    setHand(newHand)\n\n    // add selected cards to ChosenCards component\n    let newChosenCards = [...chosenCards]\n    newChosenCards[0] = cards[0]\n    newChosenCards[1] = cards[1]\n    setChosenCards(newChosenCards)\n\n    setHasCardsInPlay(true)\n  }\n\n  function moveThirdCardToChosen(cards) {\n    // remove selected cards from hand\n    let newHand = [...hand]\n    cards.forEach((card) => {\n      _.remove(newHand, function (handCard) {\n        return handCard.title === card.title\n      })\n    })\n    setHand(newHand)\n\n    // add selected cards to ChosenCards component\n    let newChosenCards = [...chosenCards]\n    newChosenCards[2] = cards[0]\n    setChosenCards(newChosenCards)\n\n    setHasCardsInPlay(true)\n  }\n\n  function moveCardToDiscard(cardDiscarded) {\n    let i = _.indexOf(chosenCards, cardDiscarded)\n    let newChosenCards = [...chosenCards]\n    newChosenCards[i] = {}\n    setChosenCards(newChosenCards)\n    setDiscardedCards([...discardedCards, cardDiscarded])\n    if (!anyChosenCardsLeft(newChosenCards)) {\n      setHasCardsInPlay(false)\n    }\n  }\n\n  function moveDiscardedCardsToLost(cards, resetHand) {\n    setLostCards([...lostCards, ...cards])\n    let newDiscardedCards = [...discardedCards]\n    cards.forEach((card) => {\n      _.remove(newDiscardedCards, card)\n    })\n    if (resetHand) {\n      setHand([...hand, ...newDiscardedCards], setDiscardedCards([]))\n    } else {\n      setDiscardedCards(newDiscardedCards)\n    }\n  }\n\n  function moveActiveCardToDiscard(cardDiscarded) {\n    let newActiveCards = [...activeCards]\n    _.remove(newActiveCards, cardDiscarded)\n    setActiveCards(newActiveCards)\n    setDiscardedCards([...discardedCards, cardDiscarded])\n  }\n\n  function moveCardToLost(cardLost) {\n    let i = _.indexOf(chosenCards, cardLost)\n    let newChosenCards = [...chosenCards]\n    newChosenCards[i] = {}\n    setChosenCards(newChosenCards)\n    setLostCards([...lostCards, cardLost])\n    if (!anyChosenCardsLeft(newChosenCards)) {\n      setHasCardsInPlay(false)\n    }\n  }\n\n  function moveActiveCardToLost(cardLost) {\n    let newActiveCards = [...activeCards]\n    _.remove(newActiveCards, cardLost)\n    setActiveCards(newActiveCards)\n    setLostCards([...lostCards, cardLost])\n  }\n\n  function moveHandCardToLost(cardLost) {\n    let newHandCards = [...hand]\n    _.remove(newHandCards, cardLost)\n    setHand(newHandCards)\n    setLostCards([...lostCards, cardLost])\n  }\n\n  function moveCardToActive(cardActivated) {\n    let i = _.indexOf(chosenCards, cardActivated)\n    let newChosenCards = [...chosenCards]\n    newChosenCards[i] = {}\n    setChosenCards(newChosenCards)\n    setActiveCards([...activeCards, cardActivated])\n    if (!anyChosenCardsLeft(newChosenCards)) {\n      setHasCardsInPlay(false)\n    }\n  }\n\n  function handleMoveCardsBackToHand(cardsRecovered) {\n    setHand([...hand, ...cardsRecovered])\n  }\n\n  function removeCardFromDiscard(card) {\n    _.remove(discardedCards, card)\n  }\n\n  function moveLostCardToHand(card) {\n    setHand([...hand, card])\n    let newLostCards = [...lostCards]\n    _.remove(newLostCards, card)\n    setLostCards(newLostCards)\n  }\n\n  function handleUpdateShowPlayerStats(showStats) {\n    setShowPlayerStats(showStats)\n  }\n\n  function returnChosenCardsToHand() {\n    // remove selected cards from hand\n    let newHand = [...hand]\n    chosenCards.forEach((chosenCard) => {\n      if (Object.keys(chosenCard).length !== 0) {\n        newHand = [...newHand, chosenCard]\n      }\n    })\n    setHand(newHand)\n\n    // add selected cards to ChosenCards component\n    setChosenCards([{}, {}, {}])\n    setHasCardsInPlay(false)\n  }\n\n  return (\n    <>\n      <Menu>\n        <SettingsMenu setPlayerStats={handleUpdateShowPlayerStats} />\n      </Menu>\n      <div id='play-game' align='center'>\n        <table id='play-area' align='center'>\n          <tbody>\n            <tr>\n              <ChosenCards\n                character={character}\n                chosenCards={chosenCards}\n                modifierDeck={modifierDeck}\n                moveCardToActive={moveCardToActive}\n                moveCardToDiscard={moveCardToDiscard}\n                moveCardToLost={moveCardToLost}\n                returnChosenCardsToHand={returnChosenCardsToHand}\n                staffOfCommand={staffOfCommand}\n              />\n              <ActiveCards\n                character={character}\n                activeCards={activeCards}\n                moveActiveCardToDiscard={moveActiveCardToDiscard}\n                moveActiveCardToLost={moveActiveCardToLost}\n              />\n            </tr>\n            <tr>\n              <DiscardedCards\n                character={character}\n                discardedCards={discardedCards}\n                handleMoveCardsBackToHand={handleMoveCardsBackToHand}\n                moveDiscardedCardsToLost={moveDiscardedCardsToLost}\n                removeCardFromDiscard={removeCardFromDiscard}\n              />\n              <LostCards\n                character={character}\n                lostCards={lostCards}\n                moveLostCardToHand={moveLostCardToHand}\n              />\n            </tr>\n          </tbody>\n        </table>\n        {showPlayerStats && <PlayerStats character={character} level={level} />}\n      </div>\n      <HandCards\n        character={character}\n        hand={hand}\n        moveHandCardToLost={moveHandCardToLost}\n        moveThirdCardToChosen={moveThirdCardToChosen}\n        moveCardsToChosen={moveCardsToChosen}\n        hasCardsInPlay={hasCardsInPlay}\n        staffOfCommand={staffOfCommand}\n        staffOfCommandPlayed={\n          Object.keys(chosenCards[2]).length === 0 ? false : true\n        }\n      />\n    </>\n  )\n}\n\nfunction DiscardedCards({\n  character,\n  discardedCards,\n  handleMoveCardsBackToHand,\n  moveDiscardedCardsToLost,\n  removeCardFromDiscard,\n}) {\n  const [selectedCards, setSelectedCards] = useState([])\n  const [resting, setResting] = useState(false)\n  const [canRerollLost, setCanRerollLost] = useState(false)\n  const [longResting, setLongResting] = useState(false)\n  const [cardToLose, setCardToLose] = useState({})\n  const firstRow = discardedCards.slice(0, 5)\n  const secondRow = discardedCards.slice(5, 10)\n  const thirdRow = discardedCards.slice(10, 15)\n\n  function handleOnClick(cardClicked) {\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (cardClicked.className === 'discarded') {\n      cardClicked = cardClicked.firstChild\n    }\n    let characterCard = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    if (longResting) {\n      setCardToLose(characterCard)\n    } else {\n      if (selectedCards.some((card) => card.title === cardClicked.alt)) {\n        let newSelection = [...selectedCards]\n        _.remove(newSelection, characterCard)\n        setSelectedCards(newSelection)\n      } else {\n        if (selectedCards.length < 2) {\n          setSelectedCards([...selectedCards, characterCard])\n        } else {\n          let newSelection = [...selectedCards]\n          newSelection.shift()\n          newSelection.push(characterCard)\n          setSelectedCards(newSelection)\n        }\n      }\n    }\n  }\n\n  function cardSelected(cardClicked) {\n    if (selectedCards.some((card) => card.title === cardClicked.title)) {\n      return true\n    }\n    return false\n  }\n\n  function handleRecoverDiscardedCard() {\n    handleMoveCardsBackToHand(selectedCards)\n    removeCardFromDiscard(selectedCards[0])\n    setSelectedCards([])\n  }\n\n  function handleLoseCardsAvoidingDamage(cards) {\n    moveDiscardedCardsToLost(cards, false)\n    setSelectedCards([])\n  }\n\n  function handleShortRest() {\n    setResting(true)\n    let cardToLose =\n      discardedCards[Math.floor(Math.random() * discardedCards.length)]\n    setCardToLose(cardToLose)\n    setCanRerollLost(true)\n  }\n\n  function handleLoseCardFromRest() {\n    moveDiscardedCardsToLost([cardToLose], true)\n    setResting(false)\n    setCanRerollLost(false)\n    setCardToLose({})\n    setLongResting(false)\n  }\n\n  function handleRerollLostCard() {\n    let cardsToChooseFrom = [...discardedCards]\n    _.remove(cardsToChooseFrom, cardToLose)\n    let newCardToLose =\n      cardsToChooseFrom[Math.floor(Math.random() * cardsToChooseFrom.length)]\n    setCardToLose(newCardToLose)\n    setCanRerollLost(false)\n  }\n\n  function handleLongRest() {\n    setLongResting(true)\n  }\n\n  function cardBoarder(card) {\n    if (card === cardToLose && resting) {\n      return 'chooseCards must-lose'\n    } else if (card === cardToLose && longResting) {\n      return 'chooseCards discard-selected'\n    }\n    return 'chooseCards'\n  }\n\n  return (\n    <td\n      id='discarded-cards-title'\n      colSpan='2'\n      style={{ border: '1px solid white', textAlign: 'center' }}\n    >\n      Discarded Cards\n      {longResting && <p id='choose-to-lose'>Choose One Card to Lose</p>}\n      <table id='discard-table'>\n        <tbody>\n          <tr>\n            {firstRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={cardBoarder(card)}\n                containerClass={'discarded'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                mustLose={card === cardToLose && resting}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {secondRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={cardBoarder(card)}\n                containerClass={'discarded'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                mustLose={card === cardToLose && resting}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {thirdRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={cardBoarder(card)}\n                containerClass={'discarded'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                mustLose={card === cardToLose && resting}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n        </tbody>\n      </table>\n      <button\n        id='short-rest-button'\n        disabled={discardedCards.length < 2 || resting || longResting}\n        className='button'\n        onClick={() => handleShortRest()}\n        type='button'\n        title='Must Have At Least 2 Discarded Cards And No Cards in Play'\n      >\n        Short Rest\n      </button>\n      <button\n        id='long-rest-button'\n        disabled={discardedCards.length < 2 || resting || longResting}\n        className='button'\n        onClick={() => handleLongRest()}\n        type='button'\n        title='Must Have At Least 2 Discarded Cards And No Cards in Play'\n      >\n        Long Rest\n      </button>\n      <button\n        id='recover-discard-button'\n        disabled={selectedCards.length !== 1 || resting || longResting}\n        className='button'\n        onClick={() => handleRecoverDiscardedCard(selectedCards[0])}\n        type='button'\n        title='Must Have A Discarded Card Selected'\n      >\n        Recover Discarded Card\n      </button>\n      <br />\n      <button\n        id='lose-discard-button'\n        className='button'\n        disabled={Object.keys(cardToLose).length === 0}\n        onClick={() => handleLoseCardFromRest()}\n        type='button'\n        title='Must Be Resting'\n      >\n        Lose Card From Rest\n      </button>\n      <button\n        id='reroll-random-card-button'\n        className='button'\n        disabled={!canRerollLost}\n        onClick={() => handleRerollLostCard()}\n        type='button'\n        title='Can Only Be Used Once Per Short Rest'\n      >\n        Reroll Lost Card\n      </button>\n      <button\n        id='lose-discard-button2'\n        className='button'\n        disabled={selectedCards.length !== 2}\n        onClick={() => handleLoseCardsAvoidingDamage(selectedCards)}\n        type='button'\n        title='Must Have A Discarded Card Selected - Must Lose 2 to Avoid Damage'\n      >\n        Lose Cards To Avoid Damage\n      </button>\n    </td>\n  )\n}\n\nfunction ActiveCards({\n  character,\n  activeCards,\n  moveActiveCardToDiscard,\n  moveActiveCardToLost,\n}) {\n  const [selectedCard, setSelectedCard] = useState({})\n  const firstRow = activeCards.slice(0, 3)\n  const secondRow = activeCards.slice(3, 6)\n\n  function cardSelected(card) {\n    if (selectedCard === card) {\n      return true\n    }\n    return false\n  }\n\n  function handleCardClick(cardClicked) {\n    if (cardClicked.tagName === 'BUTTON' || cardClicked.tagName === 'BR') {\n      return\n    }\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (cardClicked.className === 'active-card') {\n      cardClicked = cardClicked.firstChild\n    }\n    let cardToSelect = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    cardToSelect === selectedCard\n      ? setSelectedCard({})\n      : setSelectedCard(cardToSelect)\n  }\n\n  function handleDiscardCard(card) {\n    moveActiveCardToDiscard(card)\n    setSelectedCard({})\n  }\n\n  function handleLoseCard(card) {\n    moveActiveCardToLost(card)\n    setSelectedCard({})\n  }\n\n  return (\n    <td\n      id='active-cards-title'\n      colSpan='2'\n      style={{ border: '1px solid white', textAlign: 'center' }}\n    >\n      Active Cards\n      <br />\n      <table id='active-table' align='center'>\n        <tbody>\n          <tr>\n            {firstRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'active-card'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleCardClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {secondRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'active-card'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleCardClick}\n              />\n            ))}\n          </tr>\n        </tbody>\n      </table>\n      <button\n        id='discard-active-card'\n        className='button tooltip'\n        disabled={Object.keys(selectedCard).length === 0}\n        onClick={() => handleDiscardCard(selectedCard)}\n        type='button'\n        title='Must Have an Active Card Selected'\n      >\n        Discard Active Card\n      </button>\n      <button\n        id='lose-active-card'\n        className='button tooltip'\n        disabled={Object.keys(selectedCard).length === 0}\n        onClick={() => handleLoseCard(selectedCard)}\n        type='button'\n        title='Must Have an Active Card Selected'\n      >\n        Lose Active Card\n      </button>\n      <br />\n    </td>\n  )\n}\n\nfunction LostCards({ character, lostCards, moveLostCardToHand }) {\n  const [selectedCard, setSelectedCard] = useState({})\n  const firstRow = lostCards.slice(0, 5)\n  const secondRow = lostCards.slice(5, 10)\n  const thirdRow = lostCards.slice(10, 15)\n\n  function cardSelected(card) {\n    if (selectedCard === card) {\n      return true\n    }\n    return false\n  }\n\n  function handleOnClick(cardClicked) {\n    while (cardClicked.className === 'enhancement-icon') {\n      cardClicked = cardClicked.previousSibling\n    }\n    if (cardClicked.className === 'lost') {\n      cardClicked = cardClicked.firstChild\n    }\n    let cardToSelect = character.cards.find(\n      (card) => card.title === cardClicked.alt\n    )\n    cardToSelect === selectedCard\n      ? setSelectedCard({})\n      : setSelectedCard(cardToSelect)\n  }\n\n  function handleRecoverLostCard(card) {\n    moveLostCardToHand(card)\n    setSelectedCard({})\n  }\n\n  return (\n    <td\n      id='lost-cards-title'\n      colSpan='2'\n      style={{ border: '1px solid white', textAlign: 'center' }}\n    >\n      Lost Cards\n      <br />\n      <table id='lost-table'>\n        <tbody>\n          <tr>\n            {firstRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'lost'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {secondRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'lost'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n          <tr>\n            {thirdRow.map((card) => (\n              <CardContainer\n                card={card}\n                cardClass={'chooseCards'}\n                containerClass={'lost'}\n                cardSelected={cardSelected}\n                character={character}\n                key={card.title}\n                onClick={handleOnClick}\n              />\n            ))}\n          </tr>\n        </tbody>\n      </table>\n      <button\n        id='recover-lost'\n        className='button'\n        disabled={Object.keys(selectedCard).length === 0}\n        onClick={() => handleRecoverLostCard(selectedCard)}\n        type='button'\n        title='Must Have a Lost Card Selected'\n      >\n        Recover Lost Card\n      </button>\n    </td>\n  )\n}\n\nfunction SettingsMenu({ setPlayerStats }) {\n  return (\n    <>\n      <StackView>\n        <Text>Settings</Text>\n        <CheckboxCard\n          onChange={(e) => setPlayerStats(e.target.checked)}\n          key='stats'\n          title='Player Stats'\n        />\n      </StackView>\n    </>\n  )\n}\n\nexport default PlayArea\n","import React, { useState } from 'react'\nimport {\n  Button,\n  Field,\n  Input,\n  Select,\n  StackView,\n  ThemeProvider,\n  TextArea,\n} from '@planning-center/ui-kit'\n\nfunction FeedbackModal({ show, hideModal }) {\n  const style = show ? { display: 'block' } : { display: 'none' }\n  const [title, setTitle] = useState('')\n  const [type, setType] = useState('')\n  const [body, setBody] = useState('')\n  const [submitted, setSubmitted] = useState(false)\n  const [submissionError, setSubmissionError] = useState(false)\n  const [showErrors, setShowErrors] = useState(false)\n  const { Octokit } = require('@octokit/rest')\n  const octokit = new Octokit({\n    auth: process.env.REACT_APP_GITHUB_KEY,\n  })\n\n  function handleSubmitForm() {\n    if (title !== '' && type !== '' && body !== '') {\n      setShowErrors(false)\n      setSubmitted(true)\n      octokit.issues\n        .create({\n          owner: 'nicholaskillin',\n          repo: 'gloomhaven-hand-manager',\n          title: title,\n          body: body,\n          labels: [type],\n        })\n        .catch((err) => {\n          setSubmissionError(true)\n          return\n        })\n    } else {\n      setShowErrors(true)\n    }\n  }\n\n  return (\n    <div id='zoomModal' style={style}>\n      <div id='zoomFeedbackContent'>\n        <span className='close' onClick={hideModal}>\n          &times;\n        </span>\n        <h1>Feedback</h1>\n        {showErrors && (\n          <h1 style={{ color: 'red' }}>Please fill out all fields</h1>\n        )}\n        {!submitted && (\n          <ThemeProvider>\n            <StackView spacing={1}>\n              <Field\n                inline\n                label='Subject'\n                helpContent='Brief sentence describing the feedback'\n              >\n                <Input\n                  onChange={({ target }) => setTitle(target.value)}\n                  style={{ color: 'black' }}\n                />\n              </Field>\n              <Field\n                inline\n                label='Type'\n                helpContent='Is this a bug or a feature request?'\n              >\n                <Select\n                  emptyValue='Bug or Feature Request?'\n                  tooltip={{ title: 'Bug or Feature Request' }}\n                  onChange={(e) => setType(e.value)}\n                  style={{ color: 'black' }}\n                >\n                  <Select.Option value='bug'>Bug</Select.Option>\n                  <Select.Option value='enhancement'>\n                    Feature Request\n                  </Select.Option>\n                </Select>\n              </Field>\n              <Field\n                inline\n                label='Description'\n                helpContent='Please be detailed here if you found a bug. The more details the better.'\n              >\n                <TextArea\n                  onChange={({ target }) => setBody(target.value)}\n                  style={{ color: 'black', height: '200px' }}\n                  placeholder='Please include as many details as you can for bugs'\n                />\n              </Field>\n              <Field inline>\n                <Button onClick={handleSubmitForm}>Submit</Button>\n              </Field>\n            </StackView>\n          </ThemeProvider>\n        )}\n        {submitted && !submissionError && (\n          <h1>Thank you for your submission!</h1>\n        )}\n        {submissionError && (\n          <p>\n            Welp, seems like there was an issue sending your feedback. You can\n            visit the{' '}\n            <a\n              href='https://github.com/nicholaskillin/gloomhaven-hand-manager/issues'\n              rel='noopener noreferrer'\n              target='_blank'\n            >\n              Github Repo\n            </a>{' '}\n            to provide that feedback if you'd like.\n          </p>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default FeedbackModal\n","import './App.css'\n\nimport {\n  Button,\n  Field,\n  Input,\n  Select,\n  StackView,\n  TextArea,\n  ThemeProvider,\n} from '@planning-center/ui-kit'\nimport React, { useEffect, useState } from 'react'\n\nimport CharacterSelection from './CharacterSelection'\nimport CookieConsent from 'react-cookie-consent'\nimport Cookies from 'universal-cookie'\nimport HandSelection from './HandSelection'\nimport PerkSelection from './PerkSelection'\nimport PlayArea from './PlayArea'\nimport FeedbackModal from './feedbackModal'\nimport _ from 'lodash'\n\nfunction App() {\n  const [stage, setStage] = useState('selectCharacter')\n  const [game, setGame] = useState('gloomhaven')\n  const [campaign, setCampaign] = useState(1)\n  const [character, setCharacter] = useState({})\n  const [level, setLevel] = useState(1)\n  const [hand, setHand] = useState([])\n  const [modifierDeck, setModifierDeck] = useState([\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus0',\n      image: './images/attack-modifiers/base/player/am-plus0.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus1',\n      image: './images/attack-modifiers/base/player/am-minus1.png',\n    },\n    {\n      name: 'minus2',\n      image: './images/attack-modifiers/base/player/am-minus2.png',\n    },\n    {\n      name: 'plus1',\n      image: './images/attack-modifiers/base/player/am-plus2.png',\n    },\n    {\n      name: 'miss',\n      image: './images/attack-modifiers/base/player/am-miss.png',\n    },\n    {\n      name: 'times2',\n      image: './images/attack-modifiers/base/player/am-x2.png',\n    },\n  ])\n\n  const [staffOfCommand, setStaffOfCommand] = useState(false)\n  const allCharacterData = getGameCharacters(game)\n  const cookies = new Cookies()\n\n  // Load the game selected from the cookie if possible\n  useEffect(() => {\n    let cookieInfo = cookies.getAll()\n    if (cookieInfo.game) {\n      setGame(cookieInfo.game)\n    }\n    if (cookieInfo.hand) {\n      setHand(cookieInfo.hand)\n    }\n    if (cookieInfo.campaign) {\n      setCampaign(parseInt(cookieInfo.campaign))\n    }\n  }, [])\n\n  useEffect(() => {\n    if (characterSelected && game === 'jotl') {\n      let characterData = allCharacterData.find(\n        (x) => x.name === character.name\n      ).campaignVersions[campaign - 1]\n\n      if (\n        game === 'jotl' &&\n        (campaign === 1 || campaign === 2 || campaign === 3)\n      ) {\n        setHand(characterData.cards)\n      } else if (game === 'jotl') {\n        setHand([])\n      }\n\n      cookies.set('campaign', campaign, {\n        path: '/',\n        maxAge: 31104000,\n      })\n\n      setCharacter(characterData)\n    }\n  }, [campaign])\n\n  function getGameCharacters(gameName) {\n    if (gameName === 'gloomhaven') {\n      return require('./gloomhavenCharacterData.json')\n    } else if (gameName === 'forgottenCircles') {\n      return require(`./forgottenCirclesCharacterData.json`)\n    } else if (gameName === 'jotl') {\n      return require(`./jawsOfTheLionCharacterData.json`)\n    }\n  }\n\n  const characterSelected = !_.isEmpty(character)\n\n  function changeGame(gameName) {\n    setGame(gameName)\n  }\n\n  function handleSetStage(stage) {\n    setStage(stage)\n  }\n\n  function handleSetCharacter(characterName) {\n    // Set game info in cookie for retrieval the next time they visit the site.\n    cookies.set('game', game, {\n      path: '/',\n      maxAge: 31104000,\n    })\n\n    let characterData =\n      game === 'jotl'\n        ? allCharacterData.find((x) => x.name === characterName)\n            .campaignVersions[campaign - 1]\n        : allCharacterData.find((x) => x.name === characterName)\n\n    if (characterName !== cookies.get('character')) {\n      cookies.remove('perks')\n      cookies.remove('modifierChanges')\n      cookies.remove('hand')\n      setHand([])\n    }\n    cookies.set('character', characterData.name, {\n      path: '/',\n      maxAge: 31104000,\n    })\n\n    if (\n      game === 'jotl' &&\n      (campaign === 1 || campaign === 2 || campaign === 3)\n    ) {\n      setHand(characterData.cards)\n    } else if (game === 'jotl') {\n      setHand([])\n    }\n    setCharacter(characterData, setStage('selectPerks'))\n  }\n\n  function handleUpdateCharacter(character) {\n    setCharacter(character)\n  }\n\n  function handleSetLevel(level) {\n    cookies.set('level', level, { maxAge: 31104000 })\n    setLevel(level)\n  }\n\n  function addCardToHand(cardToAdd) {\n    setHand([...hand, cardToAdd])\n  }\n\n  function removeCardFromHand(cardReceived) {\n    let cardToRemove = hand.find((card) => card.title === cardReceived.title)\n    let previousHand = [...hand]\n    let newHand = _.reject(previousHand, ['title', cardToRemove.title])\n    setHand(newHand)\n  }\n\n  function modifyModifierDeck(cardsToRemove, cardsToAdd) {\n    // Function to find index for cards to remove\n    function findWithAttr(array, attr, value) {\n      for (var i = 0; i < array.length; i++) {\n        if (array[i][attr] === value) {\n          return i\n        }\n      }\n      return -1\n    }\n\n    // Add cards to modifier deck\n    let newModifierDeck = modifierDeck.concat(cardsToAdd)\n\n    // Remove cards from modifier deck\n    let modifierWithCardsRemoved = [...newModifierDeck]\n    cardsToRemove.forEach((card) => {\n      let index = findWithAttr(modifierWithCardsRemoved, 'name', card.name)\n      modifierWithCardsRemoved.splice(index, 1)\n    })\n\n    // Shuffle new deck\n    for (let i = modifierWithCardsRemoved.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i)\n      const temp = modifierWithCardsRemoved[i]\n      modifierWithCardsRemoved[i] = modifierWithCardsRemoved[j]\n      modifierWithCardsRemoved[j] = temp\n    }\n\n    // Set state with new deck\n    setModifierDeck(modifierWithCardsRemoved)\n  }\n\n  function handleStaffOfCommand(selected) {\n    setStaffOfCommand(selected)\n  }\n\n  function resetModifierDeck() {\n    setModifierDeck([\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus0',\n        image: './images/attack-modifiers/base/player/am-plus0.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus1',\n        image: './images/attack-modifiers/base/player/am-minus1.png',\n      },\n      {\n        name: 'minus2',\n        image: './images/attack-modifiers/base/player/am-minus2.png',\n      },\n      {\n        name: 'plus1',\n        image: './images/attack-modifiers/base/player/am-plus2.png',\n      },\n      {\n        name: 'miss',\n        image: './images/attack-modifiers/base/player/am-miss.png',\n      },\n      {\n        name: 'times2',\n        image: './images/attack-modifiers/base/player/am-x2.png',\n      },\n    ])\n  }\n\n  return (\n    <>\n      {stage === 'selectCharacter' && (\n        <>\n          <CharacterSelection\n            availableCharacters={allCharacterData}\n            changeGame={changeGame}\n            game={game}\n            handleSetCharacter={handleSetCharacter}\n            handleSetLevel={handleSetLevel}\n            handleStaffOfCommand={handleStaffOfCommand}\n            level={level}\n          />\n        </>\n      )}\n      {stage === 'selectPerks' && (\n        <PerkSelection\n          modifyModifierDeck={modifyModifierDeck}\n          character={character}\n          characterPerks={character.perks}\n          handleSetStage={handleSetStage}\n          resetModifierDeck={resetModifierDeck}\n        />\n      )}\n      {stage === 'selectHand' && (\n        <HandSelection\n          addCardToHand={addCardToHand}\n          character={character}\n          game={game}\n          level={level}\n          hand={hand}\n          handleUpdateCharacter={handleUpdateCharacter}\n          handleSetStage={handleSetStage}\n          removeCardFromHand={removeCardFromHand}\n          {...{ campaign, setCampaign }}\n        />\n      )}\n      {stage === 'playing' && (\n        <PlayArea\n          character={character}\n          hand={hand}\n          level={level}\n          modifierDeck={modifierDeck}\n          setHand={setHand}\n          staffOfCommand={staffOfCommand}\n        />\n      )}\n      <Feedback />\n      <CookieConsent>\n        This website uses cookies to save your selected preferences.\n      </CookieConsent>\n    </>\n  )\n}\n\nfunction Feedback() {\n  const [displayModal, setDisplayModal] = useState(false)\n\n  function handleSubmitFeedback() {\n    setDisplayModal(true)\n  }\n\n  function hideModal() {\n    setDisplayModal(false)\n  }\n\n  return (\n    <div className='footer'>\n      <p>\n        Did you run into a bug or do you have some feedback about the app? I'd\n        love to hear about it!\n      </p>\n      <button onClick={handleSubmitFeedback}>Submit Feedback</button>\n      <FeedbackModal show={displayModal} hideModal={hideModal} />\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport * as serviceWorker from './serviceWorker'\n\nimport App from './App'\nimport Bugsnag from '@bugsnag/js'\nimport BugsnagPluginReact from '@bugsnag/plugin-react'\nimport Cookies from 'universal-cookie'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\n// Instantiate and start Bugsnag\nBugsnag.start({\n  apiKey: process.env.REACT_APP_BUGSNAG_KEY,\n  enabledReleaseStages: ['production', 'staging'],\n  plugins: [new BugsnagPluginReact()],\n  onError: function (event) {\n    // Grab cookie data to help track down the issue\n    const cookies = new Cookies()\n    let cookieInfo = cookies.getAll()  \n\n    event.addMetadata('cookies', {\n      ...cookieInfo\n    })\n  }\n})\n\nvar ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)\n\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary FallbackComponent={FallbackComponent}>\n      <App />\n    </ErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\nfunction FallbackComponent() {\n  return <p>Looks like you've hit a bug. Information about this has already been sent and I will look into it. For now, you can refresh the page to get things set back up.</p>\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}